<!DOCTYPE html>
<html>
<head>
    <title>CLAID @ UIUC</title>
    <link rel="icon" type="image/x-icon" href="/images/logo.png">
    <!--main style-->
    <link rel="stylesheet" href="/css/main_style.css">
    <!--comfortaa font-->
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap" rel="stylesheet">
    
</head>
<body>
    <!--nav bar-->
    <ul class="nav">
        <li class="nav" style="margin-left:130px"><a class="nav" href="/index.html">Home</a></li>
        <li class="nav"><a class="nav" href="about.html">About Us</a></li>
        <li class="nav"><a class="nav" href="board.html">Board</a></li>
        <li class="nav"><a class="nav" href="get_involved.html">Get Involved</a></li>
        <li class="nav"><a class="nav" href="connect.html">Connect</a></li>
        <li class="nav"><a class="nav" href="points.html">Points</a></li>
    </ul>
    <h2 class="pointheader">Check in!</h2>
    <!--check in stuff-->
    
    <div>
        <form id="check_in">
            <div style="margin: auto;">
                <div>
                    <p class="formtext"><label for="name">Name</label></p>
                    <input type="text" name="name" id="name" style="border-radius: 6px" required>
                </div>
                <div>
                    <p class="formtext"><label for="email">Email</label></p>
                    <input type="text" name="email" id="email" style="border-radius: 6px" required>
                </div>
                <div>
                    <p class="formtext"><label for="eventcode">Event code</label></p>
                    <input type="text" name="eventcode" id="eventcode" style="border-radius: 6px" required>
                </div>
            </div>
            <br>
            <br>
            <button type="submit" value="Submit" class="formbutton">Check In</button>
        </form>
    </div>

    <!--
        to pull the three highest values, use
        db.collection.find().sort({points:-1}).limit(3)
        as this will find and return the three highest users
        
        since we are appending childs, we have to clear the table each time
        and then add each of the children on there
        
        const collection = client.db('CLAID_DB').collection('users');
        db.collection.find().sort({points:-1}).limit(3)
        .toArray((err, topUsers) => {
            if(err) {
                const row = document.createElement('tr');
                const cell1 = document.createElement('td');
                cell1.textContent = "No users yet!";
                const cell2 = document.createElement('td');
                cell2.textContent = "No points submitted yet!";
                row.appendChild(cell1);
                row.appendChild(cell2);
                table.appendChild(row);
            }
            const leaderboard = document.getElementById("points-table");


            
            topUsers.forEach(user => {
                const row = document.createElement('tr');
                const cell1 = document.createElement('td');
                cell1.textContent = user.name;
                const cell2 = document.createElement('td');
                cell2.textContent = user.points;
                row.appendChild(cell1);
                row.appendChild(cell2);
                table.appendChild(row);

            });
            client.close();
        });
    -->
    <h2 class="pointheader">Leaderboard</h2>
    <!--table-->
    <div>
        <table id="points-table" style="margin-left: auto; margin-right: auto;">
            <tr>
              <th>Name</th>
              <th>Points</th>
            </tr>
            <tr>
              <td>Alice</td>
              <td>10</td>
            </tr>
            <tr>
              <td>Janice</td>
              <td>9</td>
            </tr>
            <tr>
                <td>Raymond</td>
                <td>8</td>
            </tr>
          </table>
    </div>

    <br>
    <br>
    
    <footer>
        <p class="ftext" style="float:left;">claid @ uiuc</p>
        <p class="ftext" style="float:right; margin-right: 30px;">Contact Us</p>
    </footer>

    <!--client side js code-->
    <script src="form.js"></script>
</body>
</html>